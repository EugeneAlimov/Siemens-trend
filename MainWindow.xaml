<Window x:Class="Siemens_trend.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
        Title="PLC Monitor" Height="650" Width="1100">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Панель подключения -->
        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,10"
                    VerticalAlignment="Center" HorizontalAlignment="Center">
            <TextBlock Text="IP:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <TextBox Name="IpTextBox" Width="120" Margin="0,0,10,0"/>
            <TextBlock Text="Rack:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <TextBox Name="RackTextBox" Width="50" Margin="0,0,10,0"/>
            <TextBlock Text="Slot:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <TextBox Name="SlotTextBox" Width="50" Margin="0,0,10,0"/>
            <Button Name="ConnectButton" Content="Подключиться" Width="120"
                    Margin="0,0,5,0" />
            <Button Name="DisconnectButton" Content="Отключиться" Width="120"/>
        </StackPanel>

        <!-- Основной контент -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2.5*"/>
                <ColumnDefinition Width="1.5*"/>
            </Grid.ColumnDefinitions>

            <!-- График (LiveCharts2) -->
            <Border Grid.Column="0" BorderBrush="Gray" BorderThickness="1" Margin="0,0,10,0">
                <lvc:CartesianChart x:Name="RealTimeChart">
                        Series="{Binding Series}"
                        XAxes="{Binding XAxes}"
                        YAxes="{Binding YAxes}">
                </lvc:CartesianChart>
            </Border>

            <!-- Панель тегов -->
            <Grid Grid.Column="1" Margin="5">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <ProgressBar x:Name="ProgressBar" Height="20"
                             IsIndeterminate="True" Visibility="Hidden" Grid.Row="0" Margin="5"/>

                <Border BorderBrush="Gray" BorderThickness="1" Grid.Row="1">
                    <TreeView Name="TagsTreeView" Margin="5"/>
               <!--     SelectedItemChanged="TagsTreeView_SelectedItemChanged"/> -->
                </Border>

                <StackPanel Grid.Row="2" Orientation="Vertical"
                            HorizontalAlignment="Center" Margin="5">
                    <Button Name="LoadTagsButton" Content="Загрузить теги" Width="200"
                            Margin="0,5,0,5"/>
                    <Button Name="ExportFromTIAButton" Content="Экспортировать из TIA" Width="200"
                            Margin="0,5,0,5"/>
                    <Button Name="StartMonitoringButton" Content="Мониторить выбранные теги"
                            Width="200" />
                </StackPanel>
            </Grid>
        </Grid>

        <!-- Панель статуса и сохранения -->
        <StackPanel Grid.Row="2" Orientation="Horizontal"
                    HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Name="SaveResultsButton" Content="Сохранить результаты"
                    Width="150" Margin="0,0,10,0"/>
            <TextBlock Text="Проект:" VerticalAlignment="Center" Margin="10,0,5,0"/>
            <TextBlock Name="ProjectNameTextBlock" Text="Не выбран"
                       FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <TextBlock Name="StatusTextBlock" Text="Статус: Отключено"
                       VerticalAlignment="Center"/>
        </StackPanel>
    </Grid>
</Window>
